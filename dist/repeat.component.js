'use strict';var _jsx=function(){var a='function'==typeof Symbol&&Symbol.for&&Symbol.for('react.element')||60103;return function(b,c,d,e){var f=b&&b.defaultProps,g=arguments.length-3;if(c||0==g||(c={}),c&&f)for(var h in f)void 0===c[h]&&(c[h]=f[h]);else c||(c=f||{});if(1==g)c.children=e;else if(1<g){for(var j=Array(g),k=0;k<g;k++)j[k]=arguments[k+3];c.children=j}return{$$typeof:a,type:b,key:void 0===d?null:''+d,ref:null,props:c,_owner:null}}}(),_createClass=function(){function a(a,b){for(var c,d=0;d<b.length;d++)c=b[d],c.enumerable=c.enumerable||!1,c.configurable=!0,'value'in c&&(c.writable=!0),Object.defineProperty(a,c.key,c)}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),_react=require('react'),_react2=_interopRequireDefault(_react),_propTypes=require('prop-types'),_propTypes2=_interopRequireDefault(_propTypes);Object.defineProperty(exports,'__esModule',{value:!0});function _interopRequireDefault(a){return a&&a.__esModule?a:{default:a}}function _toConsumableArray(a){if(Array.isArray(a)){for(var b=0,c=Array(a.length);b<a.length;b++)c[b]=a[b];return c}return Array.from(a)}function _classCallCheck(a,b){if(!(a instanceof b))throw new TypeError('Cannot call a class as a function')}function _possibleConstructorReturn(a,b){if(!a)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return b&&('object'==typeof b||'function'==typeof b)?b:a}function _inherits(a,b){if('function'!=typeof b&&null!==b)throw new TypeError('Super expression must either be null or a function, not '+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}var RepeatComponent=function(a){function b(a){_classCallCheck(this,b);var c=_possibleConstructorReturn(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a));_initialiseProps.call(c);var d=a.iterator;if('undefined'==typeof d)throw new SyntaxError('The iterator prop is mandatory');return c.iterator='number'==typeof d?[].concat(_toConsumableArray(Array(d))):d,c}return _inherits(b,a),_createClass(b,[{key:'render',value:function render(){var a=this.repeatChildren,b=this.props,c=b.children,d=b.tag,e=b.className;return _jsx(d,{className:e},void 0,a(c))}}]),b}(_react.Component),_initialiseProps=function(){var a=this;this.cloneDeep=function(b){if(b instanceof Array){var f=[],g=!0,h=!1,i=void 0;try{for(var c,d,e=b[Symbol.iterator]();!(g=(c=e.next()).done);g=!0)d=c.value,d instanceof Array?f.push(a.cloneDeep(d)):d instanceof Object?f.push(a.cloneDeep(d)):f.push(d)}catch(a){h=!0,i=a}finally{try{!g&&e.return&&e.return()}finally{if(h)throw i}}return f}if(b instanceof Object){var j={};for(var k in b)b.hasOwnProperty(k)&&(j[k]=b[k]instanceof Array?a.cloneDeep(b[k]):b[k]instanceof Object?a.cloneDeep(b[k]):b[k]);return j}},this.getNestedObjectValue=function(a,b){var c=b.split('.'),d=!0,e=!1,f=void 0;try{for(var g,h,i=c[Symbol.iterator]();!(d=(g=i.next()).done);d=!0)h=g.value,a=a[h]}catch(a){e=!0,f=a}finally{try{!d&&i.return&&i.return()}finally{if(e)throw f}}return a},this.changeValuePropsChildren=function(b){var c=1<arguments.length&&arguments[1]!==void 0?arguments[1]:{},d=arguments[2],e=a.props,f=e.stringInterpolationIdentifier,g=e.iteratorKeyIdentifier,h=e.iteratorKeyGenerator;if(b instanceof Array){var i=!0,j=!1,k=void 0;try{for(var l,m,n=b[Symbol.iterator]();!(i=(l=n.next()).done);i=!0)m=l.value,m instanceof Array?a.changeValuePropsChildren(m,{},d):_react2.default.isValidElement(m)?(m.key=new Date().getMilliseconds(),'undefined'!==m.props.iteratorkey&&new RegExp('('+g+')','g').test(m.props.iteratorkey)&&(m.props.iteratorkey='undefined'==typeof h?new Date().getMilliseconds():h,m.key='undefined'==typeof h?new Date().getMilliseconds():h),a.changeValuePropsChildren(m.props.children,m,d)):'string'==typeof m&&(new RegExp('('+f+')','g').test(m)&&(1<m.split(f+'.').length?b[b.indexOf(m)]=a.getNestedObjectValue(d,m.split(f+'.')[1]):b[b.indexOf(m)]=d),new RegExp('('+g+')','g').test(m)&&(b[b.indexOf(m)]='undefined'==typeof h?new Date().getMilliseconds():h))}catch(a){j=!0,k=a}finally{try{!i&&n.return&&n.return()}finally{if(j)throw k}}}else new RegExp('('+f+')','g').test(b)&&(1<b.split(f+'.').length?b[b.indexOf(b)]=a.getNestedObjectValue(d,b.split(f+'.')[1]):c.props.children=d),new RegExp('('+g+')','g').test(b)&&(c.props.children='undefined'==typeof h?new Date().getMilliseconds():h)},this.repeatChildren=function(b){var c=a.iterator,d=a.changeValuePropsChildren;if('undefined'==typeof b)throw new SyntaxError('Please add children inside Repeat');return c.map(function(c){var e=a.cloneDeep(b);return d(e,{},c),e})}};exports.default=RepeatComponent,RepeatComponent.defaultProps={tag:'div',className:'',stringInterpolationIdentifier:'@iterator',iteratorKeyIdentifier:'@key'},RepeatComponent.propTypes={iterator:_propTypes2.default.oneOfType([_propTypes2.default.array,_propTypes2.default.number]).isRequired,tag:_propTypes2.default.string,className:_propTypes2.default.string,stringInterpolationIdentifier:_propTypes2.default.string,iteratorKeyIdentifier:_propTypes2.default.string,iteratorKeyGenerator:_propTypes2.default.any};